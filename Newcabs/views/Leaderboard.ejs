<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>GrammarMaster</title>
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCCAGPNVBLaEZQPnrUDHwhDnFvdPIxCqKs&libraries=places&callback=initMap" async defer></script>

</head>
<link rel="stylesheet" href="css/Leader.css">
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />    

<body>

    <nav>
        <ul>
            <a href="#" class="brands" id="menus" onclick="openNav()"><span
                    class="material-symbols-outlined">menu</span></a>
                    <a href="#" id="hola" onclick="goToHomepage()"><li class="brand"><img
                    src="https://i.pinimg.com/736x/64/be/90/64be90192556966769ac42102a38fc6c.jpg"
                    alt="LogisticsPro" width=10>GrammarMaster</li></a>
            <li class="brand1"><a href="#" onclick="goToHomepage()">Home</a></li>
            <li class="brand1"><a href="#" onclick="goToAboutpage()">About</a></li>
            
            <li class="brand1">
                <div class="dropdown">
                <a href="#" class="services">Services</a>
                <a href="#" class="drop">
                    <span class="material-symbols-outlined answers">arrow_drop_down</span>
                </a>
                <div class="dropdown-content">
                    <a href="#" class="dropdown-content1" onclick="goToLoginpage()"><p>Exercises</p></a>
                    <a href="#" class="dropdown-content1" onclick="goToLeaderpage()"><p>Leaderboard</p></a>
                </div>
            </div>
            </li>
                     
            <li class="brand1"><a href="#" id="spaces" onclick="goToContactpage()">Contact Us</a></li>
            <div class="book"><a href="#" class="Booked" onclick="goToLoginpage()">User Login</a></div>
        </ul>
    </nav>
    <div id="mySidenav" class="sidenav">
        <ul>
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <li><a href="#" onclick="goToHomepage()"><span class="material-symbols-outlined">home</span>Home</a></li>
            <li><a href="#" onclick="goToLoginpage()"><span class="material-symbols-outlined">login</span>User Login</a></li>
            <li><a href="#" onclick="goToDriverLoginpage()"><span class="material-symbols-outlined">login</span>Admin Login</a></li>
            <li><a href="#" onclick="goToLoginpage()"><span class="material-symbols-outlined">school</span>Exercises</a></li>
            <li><a href="#" onclick="goToLeaderpage()"><span class="material-symbols-outlined">leaderboard</span>Leaderboard</a></li>
            <li><a href="#" onclick="goToAboutpage()"><span class="material-symbols-outlined">info</span> About Us</a></li>
            <li><a href="#" onclick="goToContactpage()"><span class="material-symbols-outlined">contact_support</span> Contact Us</a></li>
            </ul>
    </div>
    <div class="leaderboard-container">
        <h1>Leaderboard</h1>
        <table id="leaderboard">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Username</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody id="leaderboard-body">
                <!-- Leaderboard data will be inserted here -->
            </tbody>
        </table>
    </div>
</div>
    <script src="/js/script.js"></script>
    <script src="/js/main.js"></script>
    <footer>
        <p>&copy; 2024 GrammarMaster. All rights reserved.</p>
    </footer>
    <script>
        // Fetch leaderboard data from the server and populate the table
        async function fetchLeaderboard() {
            try {
                const response = await fetch('http://localhost:8000/api/leaderboard');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                const leaderboardBody = document.getElementById('leaderboard-body');
                leaderboardBody.innerHTML = ''; // Clear previous content

                data.forEach((user, index) => {
                    const row = `
                        <tr>
                            <td>${index + 1}</td>
                            <td>${user.uname}</td>
                            <td>${user.score}</td>
                        </tr>
                    `;
                    leaderboardBody.innerHTML += row;
                });
            } catch (error) {
                console.error('Error fetching leaderboard:', error);
            }
        }

        fetchLeaderboard(); // Call the function on page load
    </script>
</body>

</html>